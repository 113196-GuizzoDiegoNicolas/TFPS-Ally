{"openapi":"3.0.1","info":{"title":"Ally","description":"##  Ally - Sistema de Gesti贸n de Pacientes y Transportistas\n\n###  Descripci贸n\nAPI REST para la gesti贸n integral de pacientes, prestadores m茅dicos y servicios de transporte sanitario.\n\n###  Caracter铆sticas Principales\n- Gesti贸n de pacientes con historial m茅dico\n- Administraci贸n de prestadores m茅dicos por especialidad\n- Control de transportistas y zonas de cobertura\n- Sistema de turnos y servicios\n- Autenticaci贸n y autorizaci贸n de usuarios\n\n###  Roles del Sistema\n- **PACIENTE**: Puede gestionar su perfil y solicitar servicios\n- **PRESTADOR**: Gestiona servicios m茅dicos y disponibilidad\n- **TRANSPORTISTA**: Administra traslados y zonas de cobertura\n- **ADMIN**: Acceso completo al sistema\n","contact":{"name":"Equipo de Desarrollo Ally","url":"https://www.ally.com","email":"soporte@ally.com"},"license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0.html"},"version":"0.0.1-SNAPSHOT"},"servers":[{"url":"http://localhost:8080","description":"Servidor de Desarrollo Local"},{"url":"https://api.ally.com","description":"Servidor de Producci贸n"}],"tags":[{"name":"Gesti贸n de Pagos","description":"API para procesamiento y gesti贸n de pagos de servicios m茅dicos"}],"paths":{"/api/users/{id}":{"get":{"tags":["user-controller"],"operationId":"getUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}},"put":{"tags":["user-controller"],"operationId":"updateUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}},"delete":{"tags":["user-controller"],"operationId":"deleteUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/transportistas/{id}":{"get":{"tags":["transporter-controller"],"operationId":"getTransportistaById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransporterDTO"}}}}}},"put":{"tags":["transporter-controller"],"operationId":"updateTransportista","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransporterDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransporterDTO"}}}}}},"delete":{"tags":["transporter-controller"],"operationId":"deleteTransportista","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/prestadores/{id}":{"get":{"tags":["provider-controller"],"operationId":"getPrestadorById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProviderDTO"}}}}}},"put":{"tags":["provider-controller"],"operationId":"updatePrestador","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProviderDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProviderDTO"}}}}}},"delete":{"tags":["provider-controller"],"operationId":"deletePrestador","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/prestaciones/{id}/rechazar":{"put":{"tags":["service-controller"],"operationId":"rechazar","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServiceDTO"}}}}}}},"/api/prestaciones/{id}/aceptar":{"put":{"tags":["service-controller"],"operationId":"aceptar","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServiceDTO"}}}}}}},"/api/patients/{id}":{"get":{"tags":["patient-controller"],"operationId":"getPatient","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Patient"}}}}}},"put":{"tags":["patient-controller"],"operationId":"updatePatient","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Patient"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Patient"}}}}}},"delete":{"tags":["patient-controller"],"operationId":"deletePatient","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/v1/payments/{pagoId}/refund":{"post":{"tags":["Gesti贸n de Pagos"],"summary":"Reembolsar un pago","description":"Solicita el reembolso total de un pago previamente procesado","operationId":"refundPayment","parameters":[{"name":"pagoId","in":"path","description":"ID del pago a reembolsar","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"reason","in":"query","description":"Motivo del reembolso","required":false,"schema":{"type":"string","default":"Solicitud del cliente"}},{"name":"amount","in":"query","description":"Monto a reembolsar (si es parcial, vac铆o para total)","required":false,"schema":{"type":"number","format":"double"}}],"responses":{"400":{"description":"Pago no reembolsable","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}},"200":{"description":"Reembolso solicitado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}},"404":{"description":"Pago no encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}},"409":{"description":"Reembolso ya procesado o en proceso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}}}}},"/api/v1/payments/{pagoId}/cancel":{"post":{"tags":["Gesti贸n de Pagos"],"summary":"Cancelar un pago pendiente","description":"Cancela un pago que est谩 en estado pendiente","operationId":"cancelPayment","parameters":[{"name":"pagoId","in":"path","description":"ID del pago a cancelar","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"reason","in":"query","description":"Motivo de la cancelaci贸n","required":false,"schema":{"type":"string","default":"Solicitud del usuario"}}],"responses":{"400":{"description":"Pago no cancelable","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}},"200":{"description":"Pago cancelado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}},"404":{"description":"Pago no encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}}}}},"/api/v1/payments/process":{"post":{"tags":["Gesti贸n de Pagos"],"summary":"Procesar un pago","description":"Procesa un pago para un servicio espec铆fico usando diferentes m茅todos de pago","operationId":"processPayment","parameters":[{"name":"X-Session-Id","in":"header","description":"ID de sesi贸n o usuario (opcional)","required":false,"schema":{"type":"string"}},{"name":"X-Client-IP","in":"header","description":"IP del cliente (opcional)","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentRequestDTO"}}},"required":true},"responses":{"400":{"description":"Solicitud inv谩lida o datos incorrectos","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}},"200":{"description":"Pago procesado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}},"500":{"description":"Error interno del servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}},"404":{"description":"Servicio no encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}},"422":{"description":"Error de validaci贸n en los datos","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}},"409":{"description":"Conflicto (servicio ya pagado, estado inv谩lido, etc.)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}}}}},"/api/v1/payments/mercado-pago/webhook":{"post":{"tags":["Gesti贸n de Pagos"],"summary":"Webhook de Mercado Pago","description":"Endpoint para recibir notificaciones de webhook de Mercado Pago (no usar directamente)","operationId":"handleMercadoPagoWebhook","parameters":[{"name":"x-signature","in":"header","description":"Firma del webhook para validaci贸n","required":false,"schema":{"type":"string"}},{"name":"x-request-id","in":"header","description":"ID 煤nico de la solicitud","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"500":{"description":"Error procesando webhook","content":{"*/*":{"schema":{"type":"string"}}}},"400":{"description":"Webhook inv谩lido o firma incorrecta","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"Webhook recibido y procesado","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/payments/mercado-pago/preference":{"post":{"tags":["Gesti贸n de Pagos"],"summary":"Crear preferencia de Mercado Pago","description":"Crea una preferencia de pago en Mercado Pago y retorna la URL para redirigir al usuario","operationId":"createMercadoPagoPreference","parameters":[{"name":"language","in":"query","description":"Idioma para la interfaz de pago (es, en, pt)","required":false,"schema":{"type":"string","default":"es"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentRequestDTO"}}},"required":true},"responses":{"401":{"description":"Credenciales de Mercado Pago inv谩lidas","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}},"400":{"description":"Datos inv谩lidos o faltantes","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}},"502":{"description":"Error en comunicaci贸n con Mercado Pago","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}},"200":{"description":"Preferencia creada exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}}}}},"/api/users":{"get":{"tags":["user-controller"],"operationId":"getAllUsers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDTO"}}}}}}},"post":{"tags":["user-controller"],"operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}}},"/api/transportistas":{"get":{"tags":["transporter-controller"],"operationId":"getAllTransportistas","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}},"post":{"tags":["transporter-controller"],"operationId":"createTransportista","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransporterCreateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}},"/api/prestadores":{"get":{"tags":["provider-controller"],"operationId":"getAllPrestadores","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProviderDTO"}}}}}}},"post":{"tags":["provider-controller"],"operationId":"createPrestador","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Provider"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Provider"}}}}}}},"/api/prestaciones":{"post":{"tags":["service-controller"],"operationId":"crear","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceCreateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServiceDTO"}}}}}}},"/api/patients":{"get":{"tags":["patient-controller"],"operationId":"getAllPatients","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Patient"}}}}}}},"post":{"tags":["patient-controller"],"operationId":"createPatient","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Patient"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Patient"}}}}}},"patch":{"tags":["patient-controller"],"operationId":"updatePartial","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePatientDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Patient"}}}}}}},"/api/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/transportistas/{id}/reactivar":{"patch":{"tags":["transporter-controller"],"operationId":"reactivarTransportista","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}},"/api/transportistas/{id}/activation":{"patch":{"tags":["transporter-controller"],"operationId":"changeActivation","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"activo","in":"query","required":true,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}},"/api/prestadores/{id}/activation":{"patch":{"tags":["provider-controller"],"operationId":"changeActivation_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"activo","in":"query","required":true,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProviderDTO"}}}}}}},"/api/prestaciones/{id}/estado":{"patch":{"tags":["service-controller"],"operationId":"actualizarEstado","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"estado","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServiceDTO"}}}}}}},"/api/admin/users/{id}/toggle":{"patch":{"tags":["admin-controller"],"operationId":"toggleUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AdminUserDTO"}}}}}}},"/ping":{"get":{"tags":["ping-controller"],"summary":"Check healthy of the app","description":"If the app it's alive response pong","operationId":"pong","responses":{"200":{"description":"Successful operation","content":{"*/*":{"schema":{"type":"string"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorApi"}}}}}}},"/api/v1/payments/{pagoId}":{"get":{"tags":["Gesti贸n de Pagos"],"summary":"Obtener un pago por ID","description":"Retorna los detalles completos de un pago espec铆fico","operationId":"getPayment","parameters":[{"name":"pagoId","in":"path","description":"ID del pago","required":true,"schema":{"type":"integer","format":"int64"},"example":456},{"name":"includeSensitive","in":"query","description":"Incluir datos sensibles (transacci贸n, CBU, etc.)","required":false,"schema":{"type":"boolean","default":false}}],"responses":{"200":{"description":"Pago obtenido exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}},"404":{"description":"Pago no encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}}}}},"/api/v1/payments/status/{reference}":{"get":{"tags":["Gesti贸n de Pagos"],"summary":"Verificar estado de pago","description":"Verifica el estado actual de un pago por referencia externa","operationId":"checkPaymentStatus","parameters":[{"name":"reference","in":"path","description":"Referencia externa (preferenceId, transactionId, etc.)","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Estado obtenido exitosamente","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}},"404":{"description":"Pago no encontrado","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/v1/payments/stats":{"get":{"tags":["Gesti贸n de Pagos"],"summary":"Estad铆sticas de pagos","description":"Obtiene estad铆sticas agregadas de pagos (totales, por m茅todo, etc.)","operationId":"getPaymentStatistics","parameters":[{"name":"startDate","in":"query","description":"Fecha inicial para estad铆sticas","required":false,"schema":{"type":"string","format":"date"}},{"name":"endDate","in":"query","description":"Fecha final para estad铆sticas","required":false,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"Estad铆sticas obtenidas exitosamente","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/v1/payments/service/{servicioId}":{"get":{"tags":["Gesti贸n de Pagos"],"summary":"Obtener historial de pagos de un servicio","description":"Retorna el historial completo de todos los pagos realizados para un servicio espec铆fico","operationId":"getPaymentHistory","parameters":[{"name":"servicioId","in":"path","description":"ID del servicio","required":true,"schema":{"type":"integer","format":"int64"},"example":123},{"name":"includeCancelled","in":"query","description":"Incluir pagos cancelados/reembolsados","required":false,"schema":{"type":"boolean","default":false}}],"responses":{"404":{"description":"Servicio no encontrado","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}}},"200":{"description":"Historial obtenido exitosamente","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}}}}}},"/api/v1/payments/search":{"get":{"tags":["Gesti贸n de Pagos"],"summary":"Buscar pagos con filtros","description":"Busca pagos aplicando m煤ltiples filtros (fechas, estados, m茅todos, etc.)","operationId":"searchPayments","parameters":[{"name":"estado","in":"query","description":"Estado del pago","required":false,"schema":{"type":"string"}},{"name":"metodoPago","in":"query","description":"M茅todo de pago","required":false,"schema":{"type":"string"}},{"name":"fechaDesde","in":"query","description":"Fecha inicial (formato: yyyy-MM-dd)","required":false,"schema":{"type":"string","format":"date"}},{"name":"fechaHasta","in":"query","description":"Fecha final (formato: yyyy-MM-dd)","required":false,"schema":{"type":"string","format":"date"}},{"name":"servicioId","in":"query","description":"ID del servicio","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"pacienteId","in":"query","description":"ID del paciente","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"prestadorId","in":"query","description":"ID del prestador","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"montoMin","in":"query","description":"Monto m铆nimo","required":false,"schema":{"type":"number","format":"double"}},{"name":"montoMax","in":"query","description":"Monto m谩ximo","required":false,"schema":{"type":"number","format":"double"}},{"name":"pageable","in":"query","description":"Configuraci贸n de paginaci贸n","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"400":{"description":"Par谩metros de b煤squeda inv谩lidos","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PagePaymentResponseDTO"}}}},"200":{"description":"B煤squeda completada exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PagePaymentResponseDTO"}}}}}}},"/api/v1/payments/methods":{"get":{"tags":["Gesti贸n de Pagos"],"summary":"Obtener m茅todos de pago disponibles","description":"Retorna la lista de m茅todos de pago soportados por el sistema","operationId":"getAvailablePaymentMethods","responses":{"200":{"description":"M茅todos obtenidos exitosamente","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}}}}}}}},"/api/transportistas/zonas-cobertura":{"get":{"tags":["transporter-controller"],"operationId":"getAllZonasCobertura","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}}}}},"/api/transportistas/zona/{zonaCobertura}":{"get":{"tags":["transporter-controller"],"operationId":"getTransportistasByZona","parameters":[{"name":"zonaCobertura","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}}},"/api/transportistas/zona/{zonaCobertura}/activos":{"get":{"tags":["transporter-controller"],"operationId":"getTransportistasActivosByZona","parameters":[{"name":"zonaCobertura","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}}},"/api/transportistas/usuario/{usuarioId}":{"get":{"tags":["transporter-controller"],"operationId":"getTransportistaByUsuarioId","parameters":[{"name":"usuarioId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}},"/api/transportistas/estado/{activo}":{"get":{"tags":["transporter-controller"],"operationId":"getTransportistasByEstado","parameters":[{"name":"activo","in":"path","required":true,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}}},"/api/transportistas/email/{email}":{"get":{"tags":["transporter-controller"],"operationId":"getTransportistaByEmail","parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}},"/api/transportistas/contador/zona/{zonaCobertura}":{"get":{"tags":["transporter-controller"],"operationId":"countByZonaCobertura","parameters":[{"name":"zonaCobertura","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"integer","format":"int64"}}}}}}},"/api/transportistas/contador/activos":{"get":{"tags":["transporter-controller"],"operationId":"countActiveTransporters","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"integer","format":"int64"}}}}}}},"/api/transportistas/buscar":{"get":{"tags":["transporter-controller"],"operationId":"searchTransportistas","parameters":[{"name":"nombre","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}}},"/api/transportistas/activos":{"get":{"tags":["transporter-controller"],"operationId":"getTransportistasActivos","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}}},"/api/prestadores/usuario/{usuarioId}":{"get":{"tags":["provider-controller"],"operationId":"getPrestadorByUsuarioId","parameters":[{"name":"usuarioId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProviderDTO"}}}}}}},"/api/prestadores/especialidad/{codigoEspecialidad}":{"get":{"tags":["provider-controller"],"operationId":"getPrestadoresByEspecialidad","parameters":[{"name":"codigoEspecialidad","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProviderDTO"}}}}}}}},"/api/prestadores/especialidad/{codigoEspecialidad}/activos":{"get":{"tags":["provider-controller"],"operationId":"getPrestadoresActivosByEspecialidad","parameters":[{"name":"codigoEspecialidad","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProviderDTO"}}}}}}}},"/api/prestadores/email/{email}":{"get":{"tags":["provider-controller"],"operationId":"getPrestadorByEmail","parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProviderDTO"}}}}}}},"/api/prestadores/activos":{"get":{"tags":["provider-controller"],"operationId":"getPrestadoresActivos","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProviderDTO"}}}}}}}},"/api/prestaciones/transportista":{"get":{"tags":["service-controller"],"operationId":"listarParaTransportista","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ServiceDTO"}}}}}}}},"/api/prestaciones/prestador/{idPrestador}":{"get":{"tags":["service-controller"],"operationId":"listarPorPrestador","parameters":[{"name":"idPrestador","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ServiceDTO"}}}}}}}},"/api/prestaciones/paciente/{idPaciente}":{"get":{"tags":["service-controller"],"operationId":"listarPorPaciente","parameters":[{"name":"idPaciente","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ServiceDTO"}}}}}}}},"/api/prestaciones/paciente-aceptadas/{idPaciente}":{"get":{"tags":["service-controller"],"operationId":"listarPorPacienteAceptadas","parameters":[{"name":"idPaciente","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ServiceDTO"}}}}}}}},"/api/patients/usuario/{usuarioId}":{"get":{"tags":["patient-controller"],"operationId":"getByUserId","parameters":[{"name":"usuarioId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Patient"}}}}}}},"/api/especialidades":{"get":{"tags":["specialty-controller"],"operationId":"getAllUsers_1","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SpecialtyDTO"}}}}}}}},"/api/admin/users":{"get":{"tags":["admin-controller"],"operationId":"getUsers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AdminUserDTO"}}}}}}}},"/api/admin/pagos-por-especialidad":{"get":{"tags":["admin-controller"],"operationId":"pagosPorEspecialidad","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PagosEspecialidadDTO"}}}}}}}},"/api/admin/metrics":{"get":{"tags":["admin-controller"],"operationId":"getMetrics","parameters":[{"name":"fechaDesde","in":"query","required":false,"schema":{"type":"string"}},{"name":"fechaHasta","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AdminMetricsDTO"}}}}}}}},"components":{"schemas":{"UserDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"email":{"type":"string"},"role":{"type":"string"},"active":{"type":"boolean"},"locked":{"type":"boolean"}}},"TransporterDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nombre":{"type":"string"},"apellido":{"type":"string"},"fechaNacimiento":{"type":"string","format":"date"},"direccion":{"type":"string"},"telefono":{"type":"string"},"telegram":{"type":"string"},"correoElectronico":{"type":"string"},"usuarioId":{"type":"integer","format":"int64"},"zonaCobertura":{"type":"string"},"activo":{"type":"boolean"}}},"ProviderDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nombre":{"type":"string"},"apellido":{"type":"string"},"email":{"type":"string"},"telefono":{"type":"string"},"direccion":{"type":"string"},"codigoEspecialidad":{"type":"string"},"activo":{"type":"boolean"},"usuarioId":{"type":"integer","format":"int64"},"nombreUsuario":{"type":"string"}}},"ServiceDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"pacienteId":{"type":"integer","format":"int64"},"prestadorId":{"type":"integer","format":"int64"},"especialidad":{"type":"string"},"descripcion":{"type":"string"},"estado":{"type":"string"},"montoApagar":{"type":"number"},"fechaSolicitud":{"type":"string"}}},"Patient":{"required":["apellido","nombre","tipoDiscapacidad"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nombre":{"type":"string"},"apellido":{"type":"string"},"fechaNacimiento":{"type":"string","format":"date"},"direccion":{"type":"string"},"telefono":{"type":"string"},"telegram":{"type":"string"},"correoElectronico":{"type":"string"},"idUsuario":{"type":"integer","format":"int64"},"numeroHistoriaClinica":{"type":"string"},"codigoObraSocial":{"type":"string"},"nroAfiliadoObraSocial":{"type":"string"},"tipoDiscapacidad":{"type":"string"}}},"PaymentResponseDTO":{"type":"object","properties":{"pagoId":{"type":"integer","description":"ID del pago en el sistema","format":"int64","example":456},"estado":{"type":"string","description":"Estado del pago","example":"PROCESANDO","enum":["PENDIENTE","PROCESANDO","COMPLETADO","FALLIDO","REEMBOLSADO"]},"mensaje":{"type":"string","description":"Mensaje descriptivo","example":"Pago procesado exitosamente"},"transaccionId":{"type":"string","description":"ID de transacci贸n externa","example":"MP-123456789"},"fechaPago":{"type":"string","description":"Fecha y hora del pago","format":"date-time"},"monto":{"type":"number","description":"Monto pagado","example":25000.5},"metodoPago":{"type":"string","description":"M茅todo de pago utilizado","example":"MERCADO_PAGO"},"servicioDetalle":{"type":"string","description":"Detalles del servicio pagado","example":"Servicio #123 - Cardiolog铆a"},"paymentUrl":{"type":"string","description":"URL de pago generada (para Mercado Pago)"},"preferenceId":{"type":"string","description":"ID de preferencia de Mercado Pago"},"mercadoPagoPaymentId":{"type":"string","description":"ID de pago de Mercado Pago"},"numeroAutorizacion":{"type":"string","description":"N煤mero de autorizaci贸n de obra social"},"coberturaAseguradora":{"type":"number","description":"Monto cubierto por la obra social"},"copagoPaciente":{"type":"number","description":"Monto de copago del paciente"},"datosAdicionales":{"type":"object","additionalProperties":{"type":"object","description":"Datos adicionales de la transacci贸n"},"description":"Datos adicionales de la transacci贸n"},"errorCode":{"type":"string","description":"C贸digo de error si fall贸"},"success":{"type":"boolean","description":"Si es 茅xito o no"}},"description":"Respuesta del procesamiento de pago"},"PaymentRequestDTO":{"required":["metodoPago","monto","servicioId"],"type":"object","properties":{"servicioId":{"type":"integer","description":"ID del servicio a pagar","format":"int64","example":123},"metodoPago":{"type":"string","description":"M茅todo de pago","example":"MERCADO_PAGO","enum":["CONTADO","TRANSFERENCIA_BANCARIA","OBRA_SOCIAL","MERCADO_PAGO"]},"monto":{"minimum":0.01,"exclusiveMinimum":false,"type":"number","description":"Monto total a pagar","example":25000.5},"emailPagador":{"type":"string","description":"Email del pagador (requerido para Mercado Pago)","example":"cliente@example.com"},"nombrePagador":{"type":"string","description":"Nombre del pagador","example":"Juan P茅rez"},"cbuDestino":{"type":"string","description":"CBU destino para transferencias","example":"0720321188000034567890"},"numeroAfiliado":{"type":"string","description":"N煤mero de afiliado para obra social","example":"AF123456789"},"codigoObraSocial":{"type":"string","description":"C贸digo de obra social","example":"OSDE"},"datosAdicionales":{"type":"object","additionalProperties":{"type":"object","description":"Datos adicionales espec铆ficos del m茅todo de pago"},"description":"Datos adicionales espec铆ficos del m茅todo de pago"},"returnUrl":{"type":"string","description":"URL de retorno despu茅s del pago (para Mercado Pago)"},"cancelUrl":{"type":"string","description":"URL de cancelaci贸n (para Mercado Pago)"}},"description":"Solicitud de procesamiento de pago"},"UserCreateDTO":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"},"email":{"type":"string"},"role":{"type":"string"}}},"TransporterCreateDTO":{"type":"object","properties":{"nombre":{"type":"string"},"apellido":{"type":"string"},"fechaNacimiento":{"type":"string","format":"date"},"direccion":{"type":"string"},"telefono":{"type":"string"},"telegram":{"type":"string"},"correoElectronico":{"type":"string"},"usuarioId":{"type":"integer","format":"int64"},"zonaCobertura":{"type":"string"}}},"Provider":{"required":["apellido","codigoEspecialidad","nombre"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nombre":{"type":"string"},"apellido":{"type":"string"},"email":{"type":"string"},"telegram":{"type":"string"},"telefono":{"type":"string"},"direccion":{"type":"string"},"codigoEspecialidad":{"type":"string"},"activo":{"type":"boolean"},"cbuBancaria":{"type":"string"},"fechaRegistro":{"type":"string","format":"date-time"},"idUsuario":{"type":"integer","format":"int64"},"matricula":{"type":"string"},"coberturaObraSocial":{"type":"boolean"},"fechaNacimiento":{"type":"string","format":"date"}}},"ServiceCreateDTO":{"type":"object","properties":{"pacienteId":{"type":"integer","format":"int64"},"prestadorId":{"type":"integer","format":"int64"},"transportistaId":{"type":"integer","format":"int64"},"especialidad":{"type":"string"},"descripcion":{"type":"string"},"montoApagar":{"type":"number"}}},"UserLoginDTO":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"UpdatePatientDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nombre":{"type":"string"},"apellido":{"type":"string"},"telefono":{"type":"string"},"direccion":{"type":"string"},"tipoDiscapacidad":{"type":"string"},"codigoObraSocial":{"type":"string"},"nroAfiliadoObraSocial":{"type":"string"}}},"AdminUserDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nombre":{"type":"string"},"rol":{"type":"string"},"activo":{"type":"boolean"}}},"ErrorApi":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"}}},"Pageable":{"type":"object","properties":{"page":{"minimum":0,"type":"integer","format":"int32"},"size":{"minimum":1,"type":"integer","format":"int32"},"sort":{"type":"array","items":{"type":"string"}}}},"PagePaymentResponseDTO":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/PaymentResponseDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"unpaged":{"type":"boolean"},"pageSize":{"type":"integer","format":"int32"},"pageNumber":{"type":"integer","format":"int32"},"paged":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}}},"SpecialtyDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"codigo":{"type":"string"},"nombre":{"type":"string"},"importeConsulta":{"type":"number"}}},"PagosEspecialidadDTO":{"type":"object","properties":{"especialidad":{"type":"string"},"cantidad":{"type":"integer","format":"int64"}}},"AdminMetricsDTO":{"type":"object","properties":{"pacientes":{"type":"integer","format":"int64"},"prestadores":{"type":"integer","format":"int64"},"transportistas":{"type":"integer","format":"int64"},"admins":{"type":"integer","format":"int64"},"solicitudesPendientes":{"type":"integer","format":"int64"},"serviciosAceptados":{"type":"integer","format":"int64"},"pagosProcesados":{"type":"integer","format":"int64"}}}}}}