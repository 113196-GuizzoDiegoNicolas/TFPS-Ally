{"openapi":"3.0.1","info":{"title":"Ally","description":"##  Ally - Sistema de Gesti贸n de Pacientes y Transportistas\n\n###  Descripci贸n\nAPI REST para la gesti贸n integral de pacientes, prestadores m茅dicos y servicios de transporte sanitario.\n\n###  Caracter铆sticas Principales\n- Gesti贸n de pacientes con historial m茅dico\n- Administraci贸n de prestadores m茅dicos por especialidad\n- Control de transportistas y zonas de cobertura\n- Sistema de turnos y servicios\n- Autenticaci贸n y autorizaci贸n de usuarios\n\n###  Roles del Sistema\n- **PACIENTE**: Puede gestionar su perfil y solicitar servicios\n- **PRESTADOR**: Gestiona servicios m茅dicos y disponibilidad\n- **TRANSPORTISTA**: Administra traslados y zonas de cobertura\n- **ADMIN**: Acceso completo al sistema\n","contact":{"name":"Equipo de Desarrollo Ally","url":"https://www.ally.com","email":"soporte@ally.com"},"license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0.html"},"version":"0.0.1-SNAPSHOT"},"servers":[{"url":"http://localhost:8080","description":"Servidor de Desarrollo Local"},{"url":"https://api.ally.com","description":"Servidor de Producci贸n"}],"paths":{"/api/users/{id}":{"get":{"tags":["user-controller"],"operationId":"getUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}},"put":{"tags":["user-controller"],"operationId":"updateUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}},"delete":{"tags":["user-controller"],"operationId":"deleteUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/transportistas/{id}":{"get":{"tags":["transporter-controller"],"operationId":"getTransportistaById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransporterDTO"}}}}}},"put":{"tags":["transporter-controller"],"operationId":"updateTransportista","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransporterDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransporterDTO"}}}}}},"delete":{"tags":["transporter-controller"],"operationId":"deleteTransportista","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/prestadores/{id}":{"get":{"tags":["provider-controller"],"operationId":"getPrestadorById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProviderDTO"}}}}}},"put":{"tags":["provider-controller"],"operationId":"updatePrestador","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProviderDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProviderDTO"}}}}}},"delete":{"tags":["provider-controller"],"operationId":"deletePrestador","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/prestaciones/{id}/rechazar":{"put":{"tags":["service-controller"],"operationId":"rechazar","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServiceDTO"}}}}}}},"/api/prestaciones/{id}/aceptar":{"put":{"tags":["service-controller"],"operationId":"aceptar","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServiceDTO"}}}}}}},"/api/patients/{id}":{"get":{"tags":["patient-controller"],"operationId":"getPatient","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Patient"}}}}}},"put":{"tags":["patient-controller"],"operationId":"updatePatient","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Patient"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Patient"}}}}}},"delete":{"tags":["patient-controller"],"operationId":"deletePatient","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/users":{"get":{"tags":["user-controller"],"operationId":"getAllUsers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDTO"}}}}}}},"post":{"tags":["user-controller"],"operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}}},"/api/transportistas":{"get":{"tags":["transporter-controller"],"operationId":"getAllTransportistas","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}},"post":{"tags":["transporter-controller"],"operationId":"createTransportista","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransporterCreateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}},"/api/prestadores":{"get":{"tags":["provider-controller"],"operationId":"getAllPrestadores","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProviderDTO"}}}}}}},"post":{"tags":["provider-controller"],"operationId":"createPrestador","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Provider"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Provider"}}}}}}},"/api/prestaciones":{"post":{"tags":["service-controller"],"operationId":"crear","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceCreateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServiceDTO"}}}}}}},"/api/patients":{"get":{"tags":["patient-controller"],"operationId":"getAllPatients","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Patient"}}}}}}},"post":{"tags":["patient-controller"],"operationId":"createPatient","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Patient"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Patient"}}}}}},"patch":{"tags":["patient-controller"],"operationId":"updatePartial","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePatientDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Patient"}}}}}}},"/api/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/transportistas/{id}/reactivar":{"patch":{"tags":["transporter-controller"],"operationId":"reactivarTransportista","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}},"/api/transportistas/{id}/activation":{"patch":{"tags":["transporter-controller"],"operationId":"changeActivation","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"activo","in":"query","required":true,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}},"/api/prestadores/{id}/activation":{"patch":{"tags":["provider-controller"],"operationId":"changeActivation_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"activo","in":"query","required":true,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProviderDTO"}}}}}}},"/api/prestaciones/{id}/estado":{"patch":{"tags":["service-controller"],"operationId":"actualizarEstado","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"estado","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServiceDTO"}}}}}}},"/ping":{"get":{"tags":["ping-controller"],"summary":"Check healthy of the app","description":"If the app it's alive response pong","operationId":"pong","responses":{"200":{"description":"Successful operation","content":{"*/*":{"schema":{"type":"string"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorApi"}}}}}}},"/api/transportistas/zonas-cobertura":{"get":{"tags":["transporter-controller"],"operationId":"getAllZonasCobertura","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}}}}},"/api/transportistas/zona/{zonaCobertura}":{"get":{"tags":["transporter-controller"],"operationId":"getTransportistasByZona","parameters":[{"name":"zonaCobertura","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}}},"/api/transportistas/zona/{zonaCobertura}/activos":{"get":{"tags":["transporter-controller"],"operationId":"getTransportistasActivosByZona","parameters":[{"name":"zonaCobertura","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}}},"/api/transportistas/usuario/{usuarioId}":{"get":{"tags":["transporter-controller"],"operationId":"getTransportistaByUsuarioId","parameters":[{"name":"usuarioId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}},"/api/transportistas/estado/{activo}":{"get":{"tags":["transporter-controller"],"operationId":"getTransportistasByEstado","parameters":[{"name":"activo","in":"path","required":true,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}}},"/api/transportistas/email/{email}":{"get":{"tags":["transporter-controller"],"operationId":"getTransportistaByEmail","parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}},"/api/transportistas/contador/zona/{zonaCobertura}":{"get":{"tags":["transporter-controller"],"operationId":"countByZonaCobertura","parameters":[{"name":"zonaCobertura","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"integer","format":"int64"}}}}}}},"/api/transportistas/contador/activos":{"get":{"tags":["transporter-controller"],"operationId":"countActiveTransporters","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"integer","format":"int64"}}}}}}},"/api/transportistas/buscar":{"get":{"tags":["transporter-controller"],"operationId":"searchTransportistas","parameters":[{"name":"nombre","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}}},"/api/transportistas/activos":{"get":{"tags":["transporter-controller"],"operationId":"getTransportistasActivos","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransporterDTO"}}}}}}}},"/api/prestadores/usuario/{usuarioId}":{"get":{"tags":["provider-controller"],"operationId":"getPrestadorByUsuarioId","parameters":[{"name":"usuarioId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProviderDTO"}}}}}}},"/api/prestadores/especialidad/{codigoEspecialidad}":{"get":{"tags":["provider-controller"],"operationId":"getPrestadoresByEspecialidad","parameters":[{"name":"codigoEspecialidad","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProviderDTO"}}}}}}}},"/api/prestadores/especialidad/{codigoEspecialidad}/activos":{"get":{"tags":["provider-controller"],"operationId":"getPrestadoresActivosByEspecialidad","parameters":[{"name":"codigoEspecialidad","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProviderDTO"}}}}}}}},"/api/prestadores/email/{email}":{"get":{"tags":["provider-controller"],"operationId":"getPrestadorByEmail","parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProviderDTO"}}}}}}},"/api/prestadores/activos":{"get":{"tags":["provider-controller"],"operationId":"getPrestadoresActivos","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProviderDTO"}}}}}}}},"/api/prestaciones/transportista":{"get":{"tags":["service-controller"],"operationId":"listarParaTransportista","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ServiceDTO"}}}}}}}},"/api/prestaciones/prestador/{idPrestador}":{"get":{"tags":["service-controller"],"operationId":"listarPorPrestador","parameters":[{"name":"idPrestador","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ServiceDTO"}}}}}}}},"/api/prestaciones/paciente/{idPaciente}":{"get":{"tags":["service-controller"],"operationId":"listarPorPaciente","parameters":[{"name":"idPaciente","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ServiceDTO"}}}}}}}},"/api/prestaciones/paciente-aceptadas/{idPaciente}":{"get":{"tags":["service-controller"],"operationId":"listarPorPacienteAceptadas","parameters":[{"name":"idPaciente","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ServiceDTO"}}}}}}}},"/api/patients/usuario/{usuarioId}":{"get":{"tags":["patient-controller"],"operationId":"getByUserId","parameters":[{"name":"usuarioId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Patient"}}}}}}},"/api/especialidades":{"get":{"tags":["specialty-controller"],"operationId":"getAllUsers_1","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SpecialtyDTO"}}}}}}}}},"components":{"schemas":{"UserDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"email":{"type":"string"},"role":{"type":"string"},"active":{"type":"boolean"},"locked":{"type":"boolean"}}},"TransporterDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nombre":{"type":"string"},"apellido":{"type":"string"},"fechaNacimiento":{"type":"string","format":"date"},"direccion":{"type":"string"},"telefono":{"type":"string"},"telegram":{"type":"string"},"correoElectronico":{"type":"string"},"usuarioId":{"type":"integer","format":"int64"},"zonaCobertura":{"type":"string"},"activo":{"type":"boolean"}}},"ProviderDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nombre":{"type":"string"},"apellido":{"type":"string"},"email":{"type":"string"},"telefono":{"type":"string"},"direccion":{"type":"string"},"codigoEspecialidad":{"type":"string"},"activo":{"type":"boolean"},"usuarioId":{"type":"integer","format":"int64"},"nombreUsuario":{"type":"string"}}},"ServiceDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"pacienteId":{"type":"integer","format":"int64"},"prestadorId":{"type":"integer","format":"int64"},"especialidad":{"type":"string"},"descripcion":{"type":"string"},"estado":{"type":"string"},"estadoPago":{"type":"string"},"fechaSolicitud":{"type":"string","format":"date-time"}}},"Patient":{"required":["apellido","nombre","tipoDiscapacidad"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nombre":{"type":"string"},"apellido":{"type":"string"},"fechaNacimiento":{"type":"string","format":"date"},"direccion":{"type":"string"},"telefono":{"type":"string"},"telegram":{"type":"string"},"correoElectronico":{"type":"string"},"idUsuario":{"type":"integer","format":"int64"},"numeroHistoriaClinica":{"type":"string"},"codigoObraSocial":{"type":"string"},"nroAfiliadoObraSocial":{"type":"string"},"tipoDiscapacidad":{"type":"string"}}},"UserCreateDTO":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"},"email":{"type":"string"},"role":{"type":"string"}}},"TransporterCreateDTO":{"type":"object","properties":{"nombre":{"type":"string"},"apellido":{"type":"string"},"fechaNacimiento":{"type":"string","format":"date"},"direccion":{"type":"string"},"telefono":{"type":"string"},"telegram":{"type":"string"},"correoElectronico":{"type":"string"},"usuarioId":{"type":"integer","format":"int64"},"zonaCobertura":{"type":"string"}}},"Provider":{"required":["apellido","codigoEspecialidad","nombre"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nombre":{"type":"string"},"apellido":{"type":"string"},"email":{"type":"string"},"telegram":{"type":"string"},"telefono":{"type":"string"},"direccion":{"type":"string"},"codigoEspecialidad":{"type":"string"},"activo":{"type":"boolean"},"fechaRegistro":{"type":"string","format":"date-time"},"idUsuario":{"type":"integer","format":"int64"},"cbubancaria":{"type":"string"}}},"ServiceCreateDTO":{"type":"object","properties":{"pacienteId":{"type":"integer","format":"int64"},"prestadorId":{"type":"integer","format":"int64"},"transportistaId":{"type":"integer","format":"int64"},"especialidad":{"type":"string"},"descripcion":{"type":"string"}}},"UserLoginDTO":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"UpdatePatientDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nombre":{"type":"string"},"apellido":{"type":"string"},"telefono":{"type":"string"},"direccion":{"type":"string"},"tipoDiscapacidad":{"type":"string"},"codigoObraSocial":{"type":"string"},"nroAfiliadoObraSocial":{"type":"string"}}},"ErrorApi":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"}}},"SpecialtyDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"codigo":{"type":"string"},"nombre":{"type":"string"}}}}}}